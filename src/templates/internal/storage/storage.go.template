package storage

import (
	"{{MODULE_NAME}}/internal/storage/psql"
	"{{MODULE_NAME}}/internal/storage/redis"

	"github.com/jackc/pgx/v4/pgxpool"
	rds "github.com/go-redis/redis/v8"
)

type Storage struct {
	Psql psql.PostgresStorage
	Redis redis.RedisCache
}

func NewStorage(psqlDB *pgxpool.Pool, redisDB *rds.Client) *Storage {
	return &Storage{
		Psql: *psql.NewPostgresStorage(psqlDB),
		Redis: *redis.NewRedisCache(redisDB),
	}
}